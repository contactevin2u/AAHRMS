{
  "permissions": {
    "allow": [
      "Bash(git init:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git branch:*)",
      "Bash(git remote add:*)",
      "Bash(git push:*)",
      "Bash(git pull:*)",
      "Bash(git checkout:*)",
      "Bash(curl:*)",
      "Bash(dir:*)",
      "Bash(findstr:*)",
      "Bash(ren \"C:\\Users\\user\\Desktop\\AA HRMS\\frontend\\public\\logo.png.png\" \"logo.png\")",
      "Bash(move:*)",
      "Bash(npm install:*)",
      "WebSearch",
      "WebFetch(domain:blog.talenox.com)",
      "WebFetch(domain:payroll.my)",
      "WebFetch(domain:www.hasil.gov.my)",
      "WebFetch(domain:www.ajobthing.com)",
      "WebFetch(domain:taxsummaries.pwc.com)",
      "WebFetch(domain:support.briohr.com)",
      "WebFetch(domain:actpayroll.com)",
      "WebFetch(domain:aahrms.vercel.app)",
      "WebFetch(domain:chatbaby-backend.onrender.com)",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:hrms-backend-1alt.onrender.com)",
      "Bash(npm run build:*)",
      "Bash(npm cache clean:*)",
      "Bash(node scripts/update-super-admin.js:*)",
      "Bash(cat:*)",
      "Bash(powershell -Command \"Invoke-RestMethod -Uri ''https://hrms-backend-1alt.onrender.com/api/health''\")",
      "Bash(powershell -Command \"Invoke-RestMethod -Uri ''https://hrms-backend-1alt.onrender.com/api/auth/create-super-admin'' -Method POST -ContentType ''application/json'' -Body ''{\"\"username\"\":\"\"superadmin\"\",\"\"password\"\":\"\"Test1234\"\",\"\"name\"\":\"\"Super Admin\"\",\"\"setupKey\"\":\"\"HRMS_SETUP_2024\"\"}''\")",
      "Bash(powershell -Command \"Invoke-RestMethod -Uri ''https://hrms-backend-1alt.onrender.com/api/companies'' -Method POST -ContentType ''application/json'' -Headers @{Authorization=''Bearer test''} -Body ''{\"\"name\"\":\"\"Test Company\"\",\"\"code\"\":\"\"TEST\"\"}''\")",
      "Bash(powershell -Command \"try { Invoke-RestMethod -Uri ''https://hrms-backend-1alt.onrender.com/api/companies'' -Method GET -Headers @{Authorization=''Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9''} } catch { $_Exception.Response.StatusCode }\")",
      "Bash(wc:*)",
      "Bash(find . -name \".env.example\" -exec echo \"=== {} ===\" ; -exec cat {} ;)",
      "Bash(node scripts/seed-departments.js:*)",
      "Bash(powershell -Command \"Start-Sleep -Seconds 15; Invoke-RestMethod -Uri ''https://hrms-backend-1alt.onrender.com/api/health''\")",
      "Bash(powershell -Command \"try { $response = Invoke-RestMethod -Uri ''https://hrms-backend-1alt.onrender.com/api/employees/init-seed-aa-alive'' -Method POST -ContentType ''application/json''; $response | ConvertTo-Json -Depth 10 } catch { $_Exception.Message; if \\($_Exception.Response\\) { $reader = [System.IO.StreamReader]::new\\($_Exception.Response.GetResponseStream\\(\\)\\); $reader.ReadToEnd\\(\\) } }\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 60; Write-Host ''Waiting 60 seconds for Render deployment...''\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 90; Write-Host ''Waiting 90 more seconds...''\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 120; curl -k ''https://hrms-backend-1alt.onrender.com/api/health''\")",
      "Bash(curl.exe:*)",
      "Bash(powershell -Command \"Write-Host ''Waiting 3 minutes for deployment...''; Start-Sleep -Seconds 180; Write-Host ''Done waiting''\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 30\")",
      "Bash(powershell -Command \"Start-Sleep -Seconds 60\")",
      "Bash(powershell:*)",
      "Bash(git ls-files:*)",
      "Bash(node -e \"\nconst { Pool } = require\\(''pg''\\);\n\nconst pool = new Pool\\({\n  connectionString: ''postgresql://hrms_user:Ut4Dfaz6CFcOBQ4932kwSACiRJ3zKJd9@dpg-d4k5tfmuk2gs73fldph0-a.singapore-postgres.render.com/hrms_db_e2uv'',\n  ssl: { rejectUnauthorized: false }\n}\\);\n\nasync function clearData\\(\\) {\n  const client = await pool.connect\\(\\);\n  try {\n    await client.query\\(''BEGIN''\\);\n    \n    const tables = [\n      ''payroll_items'',\n      ''payroll_runs'', \n      ''payroll'',\n      ''leave_requests'',\n      ''leave_balances'',\n      ''claims'',\n      ''resignations'',\n      ''letters'',\n      ''employee_commissions'',\n      ''employee_allowances'',\n      ''sales_records'',\n      ''clock_in_records'',\n      ''feedback'',\n      ''notifications'',\n      ''employees'',\n      ''commission_types'',\n      ''allowance_types'',\n      ''departments''\n    ];\n    \n    const results = {};\n    for \\(const table of tables\\) {\n      try {\n        const res = await client.query\\(''DELETE FROM '' + table + '' RETURNING id''\\);\n        results[table] = res.rowCount;\n      } catch \\(e\\) {\n        results[table] = ''error: '' + e.message;\n      }\n    }\n    \n    // Delete admin users except super_admin\n    const adminRes = await client.query\\(\"\"DELETE FROM admin_users WHERE role != ''super_admin'' RETURNING id\"\"\\);\n    results.admin_users = adminRes.rowCount;\n    \n    // Delete companies except id=1\n    const compRes = await client.query\\(''DELETE FROM companies WHERE id > 1 RETURNING id''\\);\n    results.companies = compRes.rowCount;\n    \n    await client.query\\(''COMMIT''\\);\n    console.log\\(''Data cleared successfully!''\\);\n    console.log\\(JSON.stringify\\(results, null, 2\\)\\);\n    \n  } catch \\(err\\) {\n    await client.query\\(''ROLLBACK''\\);\n    console.error\\(''Error:'', err.message\\);\n  } finally {\n    client.release\\(\\);\n    pool.end\\(\\);\n  }\n}\n\nclearData\\(\\);\n\")",
      "Bash(node:*)",
      "Bash(git -C:*)",
      "Bash(grep:*)",
      "Bash(copy:*)",
      "Bash(copy mixue-logo.png iconsicon-512x512.png)",
      "Bash(copy mixue-logo.png iconsicon-180x180.png)",
      "Bash(copy mixue-logo.png iconsicon-144x144.png)",
      "Bash(copy mixue-logo.png iconsicon-96x96.png)",
      "Bash(del /f \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\nul\" \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\backend\\\\nul\")",
      "Bash(del \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\backend\\\\check-employee.js\")",
      "Bash(set DATABASE_URL=postgresql://hrms_user:Ut4Dfaz6CFcOBQ4932kwSACiRJ3zKJd9@dpg-d4k5tfmuk2gs73fldph0-a.singapore-postgres.render.com/hrms_db_e2uv)",
      "Bash(del \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\backend\\\\check-outlets.js\")",
      "Bash(find:*)",
      "Bash(git restore:*)",
      "Bash(npx vercel --prod)",
      "Bash(npx vercel --prod --yes)",
      "Bash(npx vercel login)",
      "Bash(where:*)",
      "Bash(npx vercel:*)",
      "Bash(del \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\backend\\\\test-duplicate.js\")",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(del \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\backend\\\\update-templates.js\")",
      "Bash(del \"C:\\\\Users\\\\user\\\\Desktop\\\\AA HRMS\\\\backend\\\\create-mimix-depts.js\")",
      "Bash(del:*)",
      "Bash(git rm:*)"
    ],
    "deny": [],
    "ask": []
  }
}
